# برنامه ترجمه زیرنویس با API هوش مصنوعی

یک برنامه وب برای ترجمه زیرنویس‌های SRT با استفاده از API‌های هوش مصنوعی مثل OpenAI، Google Gemini و OpenRouter.

## ویژگی‌ها

### 🤖 ترجمه هوشمند
* پشتیبانی از API‌های مختلف هوش مصنوعی (OpenAI، Google Gemini، OpenRouter)
* امکان انتخاب مدل‌های مختلف برای ترجمه
* **امکان جستجو در لیست مدل‌ها** برای پیدا کردن سریع‌تر مدل مورد نظر
* تنظیم لحن ترجمه (رسمی، عامیانه، محاوره‌ای، حرفه‌ای و...)
* پشتیبانی از 15 زبان مختلف برای ترجمه

### 📝 مدیریت زیرنویس
* نمایش همزمان متن اصلی و ترجمه شده
* **نمایش درصد پیشرفت ترجمه و تخمین زمان باقیمانده** به صورت گرافیکی و متنی
* امکان توقف و ادامه فرآیند ترجمه
* امکان ویرایش دستی متن ترجمه شده
* امکان ترجمه مجدد هر خط زیرنویس به صورت جداگانه
* **کادرهای زیرنویس با ارتفاع ثابت و قابلیت اسکرول** برای فایل‌های با تعداد زیاد زیرنویس
* پشتیبانی از فرمت‌های SRT و VTT

### 🎵 دوبله صوتی پیشرفته (جدید!)
* **ترکیب واقعی فایل‌های صوتی** با استفاده از Web Audio API
* پشتیبانی از فرمت‌های صوتی مختلف: MP3, WAV, OGG, M4A, AAC, FLAC, WebM
* **تنظیمات کیفیت صوتی**: استاندارد (44.1 kHz)، بالا (48 kHz)، خیلی بالا (96 kHz)
* **کنترل حجم صدا**: قابل تنظیم از 0 تا 100 درصد
* **تنظیمات Fade In/Out**: برای انتقال نرم بین صداها
* **پیش‌نمایش فایل‌های صوتی** قبل از ترکیب
* نمایش اطلاعات کامل فایل صوتی (مدت زمان، تعداد کانال‌ها، نرخ نمونه‌برداری)
* **حذف انتخابی فایل‌های صوتی** برای هر زیرنویس
* امکان پاک کردن همه فایل‌های صوتی با یک کلیک
* **تولید فایل WAV با کیفیت بالا** قابل پخش در همه پلیرها
* نمایش اطلاعات فایل نهایی (حجم، مدت زمان، کیفیت)

### 🎨 رابط کاربری
* حالت تاریک/روشن
* **طراحی کاملاً ریسپانسیو** برای استفاده در همه دستگاه‌ها:
  * بهینه‌سازی برای صفحات دسکتاپ، تبلت و موبایل
  * چیدمان متفاوت در حالت افقی و عمودی موبایل
  * نمایش فقط آیکون‌ها در دکمه‌ها برای صفحات کوچک
* **ذخیره خودکار تنظیمات کاربر**:
  * لحن ترجمه، زبان خروجی و میزان خلاقیت
  * تنظیمات صوتی (حجم، کیفیت، Fade)
  * مدل انتخاب شده و تم رابط کاربری
* **مدیریت تنظیمات پیشرفته**:
  * صادرات تنظیمات به فایل JSON
  * وارد کردن تنظیمات از فایل
  * بازنشانی همه تنظیمات به حالت پیش‌فرض

## نحوه استفاده

1. **اتصال به API**: کلید API خود را وارد کرده و دکمه "اتصال به API" را بزنید.
2. **انتخاب مدل**: از لیست مدل‌های موجود، مدل مورد نظر خود را انتخاب کنید. می‌توانید از فیلد جستجو برای یافتن سریع‌تر مدل استفاده کنید.
3. **انتخاب لحن ترجمه**: لحن مورد نظر برای ترجمه را انتخاب کنید.
4. **بارگذاری فایل زیرنویس**: فایل SRT خود را با کشیدن و رها کردن یا کلیک روی ناحیه مشخص شده بارگذاری کنید.
5. **شروع ترجمه**: روی دکمه "شروع ترجمه" کلیک کنید تا فرآیند ترجمه آغاز شود.
6. **ویرایش یا ترجمه مجدد هر خط**: می‌توانید با نگه داشتن نشانگر ماوس روی هر خط زیرنویس، دکمه‌های ویرایش و ترجمه مجدد را مشاهده کنید.
7. **ذخیره زیرنویس ترجمه شده**: پس از اتمام ترجمه یا در حالت توقف ترجمه، می‌توانید با کلیک روی دکمه "ذخیره زیرنویس" فایل SRT ترجمه شده را دانلود کنید. 
   - اگر ترجمه کامل شده باشد، نام فایل با پسوند نام زبان هدف ذخیره می‌شود (مثلاً `example_fa.srt`).
   - اگر ترجمه در حالت توقف باشد، نام فایل با پسوند "ناقص" ذخیره می‌شود (مثلاً `example_fa_ناقص.srt`).
8. **تغییر حالت نمایش**: برای تغییر بین حالت تاریک و روشن، روی آیکون مربوطه در بالای صفحه کلیک کنید.
9. **مدیریت تنظیمات**: 
   - تمام تنظیمات شما (لحن ترجمه، زبان خروجی، میزان خلاقیت، تنظیمات صوتی) به صورت خودکار ذخیره می‌شوند
   - می‌توانید تنظیمات خود را صادر کرده و در دستگاه‌های دیگر وارد کنید
   - برای بازگشت به تنظیمات پیش‌فرض از دکمه "بازنشانی تنظیمات" استفاده کنید

## نکات فنی

* API‌های پشتیبانی شده: OpenAI، Google Gemini و OpenRouter
* کلید API شما به صورت محلی در مرورگر ذخیره می‌شود و به سرور ارسال نمی‌شود.
* فناوری‌های استفاده شده: HTML، CSS، JavaScript
* **تطبیق‌پذیری با دستگاه‌های مختلف**:
  * استفاده از CSS Variables برای مدیریت تغییرات سایز در رزولوشن‌های مختلف
  * Media Queries پیشرفته برای تطبیق با صفحات کوچک، متوسط و بزرگ
  * پشتیبانی از حالت‌های عمودی و افقی در دستگاه‌های موبایل
  * بهینه‌سازی المان‌ها برای نمایش در تمام سایزهای صفحه

## راه‌اندازی محلی

1. فایل‌های پروژه را دانلود کنید
2. فایل `index.html` را در یک مرورگر مدرن باز کنید
3. مراحل استفاده را دنبال کنید

## مشکلات رایج

- **خطا در اتصال به API**: مطمئن شوید کلید API وارد شده معتبر است
- **خطا در ترجمه**: ممکن است به دلیل محدودیت‌های API یا مشکلات شبکه باشد، مجدداً تلاش کنید
- **عدم نمایش درست زیرنویس**: مطمئن شوید فایل SRT شما با فرمت استاندارد است

---

این پروژه به عنوان یک ابزار کمکی برای ترجمه زیرنویس‌ها طراحی شده است. دقت ترجمه به مدل انتخاب شده و کیفیت متن اصلی بستگی دارد. 